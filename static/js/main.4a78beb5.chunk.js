(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__HusZh","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1EAGR"}},12:function(e,t,n){e.exports={Overlay:"Modal_Overlay__1gyAA",Modal:"Modal_Modal__3u8OU"}},13:function(e,t,n){e.exports={ButtonContainer:"Button_ButtonContainer__1WGG9",Button:"Button_Button__16Mg_"}},15:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__pu4i-"}},21:function(e,t,n){},22:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(3),i=n.n(o),l=(n(21),n(14)),s=n(4),u=n(5),h=n(7),d=n(6),m=(n(22),n(9)),p=(n(23),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=13128632-519e28f670cc6f8f58c4d9c9f&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return new Promise((function(t){return setTimeout((function(){return t(e)}),1e3)}))})).then((function(e){return e.json()})).then((function(e){return e.hits}))}),f=["title","titleId"];function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j(e,t){var n=e.title,c=e.titleId,o=b(e,f);return r.createElement("svg",g({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",style:{enableBackground:"new 0 0 100 100"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},o),n?r.createElement("title",{id:c},n):null,a||(a=r.createElement("g",null,r.createElement("path",{d:"M66.8,62.1l-0.5,0.5L59,55.3c4.3-5.1,6.9-11.7,6.9-18.9c0-7.7-3.1-15.2-8.6-20.7C51.8,10.1,44.2,7,36.5,7 C20.3,7,7.2,20.2,7.2,36.4c0,7.9,3.1,15.3,8.7,20.9c5.5,5.5,12.8,8.5,20.5,8.5c0.1,0,0.1,0,0.2,0c7.2,0,13.8-2.6,18.9-6.9l7.3,7.3 L62,66.9c-1,1-1,2.6,0,3.5l20.8,20.8c2.3,2.3,6.1,2.3,8.4,0l0,0c2.3-2.3,2.3-6.1,0-8.4L70.3,62.1C69.3,61.1,67.8,61.1,66.8,62.1z  M36.5,60.7c0,0-0.1,0-0.1,0c-6.4,0-12.5-2.5-17-7c-4.6-4.6-7.2-10.8-7.2-17.3C12.2,22.9,23.1,12,36.5,12c6.4,0,12.6,2.6,17.2,7.2 c4.6,4.6,7.2,10.8,7.2,17.2C60.9,49.8,50,60.7,36.5,60.7z"}),r.createElement("path",{d:"M16.8,36.4c0,2.1,0.3,4.1,0.9,6.1c0.5,1.4,2.1,2.1,3.5,1.5l0,0c1.1-0.5,1.7-1.8,1.3-3c-0.5-1.5-0.7-3-0.7-4.6 c0-3.7,1.4-7.2,3.9-9.9c0.8-0.9,0.8-2.3,0.1-3.2l0,0c-1-1.2-2.7-1.2-3.8-0.1C18.7,26.7,16.8,31.4,16.8,36.4z"}))))}var y=r.forwardRef(j),O=(n.p,n(8)),v=n.n(O),I=n(1),S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleNameChange=function(t){e.setState({search:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.search.trim()?(e.props.onSubmit(e.state.search),e.setState({search:""})):m.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438")},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(I.jsx)("header",{className:v.a.Searchbar,children:Object(I.jsxs)("form",{className:v.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(I.jsxs)("button",{type:"submit",className:v.a.SearchFormButton,children:[Object(I.jsx)(y,{width:"25",height:"25"}),Object(I.jsx)("span",{className:v.a.SearchFormButtonLabel,children:"Search"})]}),Object(I.jsx)("input",{className:v.a.SearchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:this.state.search,onChange:this.handleNameChange})]})})}}]),n}(r.Component),x=n(11),w=n.n(x),_=function(e){var t=e.picture,n=e.openModal,a=t.webformatURL,r=t.tags;return Object(I.jsx)("li",{id:t.id,onClick:n,className:w.a.ImageGalleryItem,children:Object(I.jsx)("img",{src:a,alt:r,className:w.a.ImageGalleryItemImage})})},C=n(15),M=n.n(C),k=function(e){var t=e.pictures,n=e.openModal;return Object(I.jsx)("ul",{className:M.a.ImageGallery,children:t.map((function(e){return Object(I.jsx)(_,{openModal:n,picture:e},e.id)}))})},B=n(12),F=n.n(B),L=document.querySelector("#modal-root"),N=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(Object(I.jsx)("div",{className:F.a.Overlay,onClick:this.handleBackdropClick,children:Object(I.jsx)("div",{className:F.a.Modal,children:e})}),L)}}]),n}(r.Component),P=n(13),G=n.n(P),E=function(e){var t=e.fetchImages;return Object(I.jsx)("div",{className:G.a.ButtonContainer,children:Object(I.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more..."})})},D=n(16),T=n.n(D),A=function(){return Object(I.jsx)("div",{class:"Loader",children:Object(I.jsx)(T.a,{type:"Bars",color:"#00BFFF",height:100,width:100,timeout:3e3})})},R=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:"",pictures:[],error:null,currentPage:1,loading:!1,showModal:!1,largeImageId:null,largeImage:[]},e.onSearch=function(t){e.setState({search:t,pictures:[],currentPage:1})},e.fetchImagesWithScroll=function(){e.fetchImages(!0)},e.fetchImages=function(t){e.setState({loading:!0});var n=e.state,a=n.search,r=n.currentPage;p(a,r).then((function(t){return e.setState((function(e){return{pictures:[].concat(Object(l.a)(e.pictures),Object(l.a)(t)),currentPage:e.currentPage+1}})),t[0]})).catch((function(t){e.setState({error:t})})).then((function(e){if(t){var n=e.id,a=document.getElementById(n).getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:a,behavior:"smooth"})}})).finally((function(){e.setState({loading:!1})}))},e.findPicture=function(){return e.state.pictures.find((function(t){return t.id===e.state.largeImageId}))},e.openModal=function(t){e.setState({showModal:!0,largeImageId:Number(t.currentTarget.id)})},e.closeModal=function(){return e.setState({showModal:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchImages(!1)}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.pictures,a=e.showModal,r=e.largeImageId;return Object(I.jsxs)("div",{class:"App",children:[Object(I.jsx)(S,{onSubmit:this.onSearch}),Object(I.jsx)(k,{openModal:this.openModal,pictures:n}),t&&Object(I.jsx)(A,{}),n.length>0&&Object(I.jsx)(E,{fetchImages:this.fetchImagesWithScroll}),a&&Object(I.jsx)(N,{largeImageId:r,onClose:this.closeModal,children:Object(I.jsx)("img",{src:this.findPicture().largeImageURL,alt:this.findPicture().tags})}),Object(I.jsx)(m.a,{autoClose:3e3})]})}}]),n}(r.Component),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(R,{})}),document.getElementById("root")),U()},8:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__3p6Ry",SearchForm:"Searchbar_SearchForm__e-rNP",SearchFormButton:"Searchbar_SearchFormButton__1FjMx",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1Fkt4",SearchFormInput:"Searchbar_SearchFormInput__23pTp"}}},[[45,1,2]]]);
//# sourceMappingURL=main.4a78beb5.chunk.js.map